DROP TABLE UBICACIONES CASCADE CONSTRAINTS;
DROP TABLE ESPECIALIDADES CASCADE CONSTRAINTS;
DROP TABLE SERVICIOS CASCADE CONSTRAINTS;
DROP TABLE RECURSOS CASCADE CONSTRAINTS;
DROP TABLE PERSONAS CASCADE CONSTRAINTS;
DROP TABLE NATURALES CASCADE CONSTRAINTS;
DROP TABLE JURIDICAS CASCADE CONSTRAINTS;
DROP TABLE EMPLEADOS CASCADE CONSTRAINTS;
DROP TABLE PROYECTOS CASCADE CONSTRAINTS;
DROP TABLE PARTICIPA CASCADE CONSTRAINTS;


CREATE TABLE UBICACIONES(
    CODIGO CHAR(6),
    MUNICIPIO VARCHAR(15),
    DEPARTAMENTO VARCHAR(10),
    PRIMARY KEY (CODIGO)
);

CREATE TABLE ESPECIALIDADES(
    NOMBRE CHAR(10),
    PROFESIONAL CHAR(1),
    SALARIO NUMBER(9)
);

CREATE TABLE SERVICIOS(
    CODIGO CHAR(5),
    NOMBRE VARCHAR(15),
    TIPO CHAR(1),
    PRESUPUESTO NUMBER(9)
);

CREATE TABLE RECURSOS(
    SERVICIO CHAR(5),
    ESPECIALIDAD CHAR(10)
);

CREATE TABLE PERSONAS(
    CODIGO CHAR(8),
    VINCULACION DATE
);

CREATE TABLE NATURALES(
    CODIGO CHAR(8),
    NOMBRE VARCHAR(20)
);

CREATE TABLE JURIDICAS(
    CODIGO CHAR(8),
    NIT NUMBER(11),
    RAZON VARCHAR(20),
    PRIMARY KEY (CODIGO)
);

CREATE TABLE EMPLEADOS(
    CODIGO CHAR(8),
    ESPECIALIDAD CHAR(10),
    UBICACION CHAR(6)
);

CREATE TABLE PROYECTOS(
	CODIGO VARCHAR(15) NOT NULL,
	NOMBRE VARCHAR(11) NOT NULL,
	FECHA DATE NOT NULL,
	PRECIO NUMBER(9) NOT NULL,
	INICIO DATE NOT NULL,
	FIN DATE,
	RECURSOS NUMBER(9) NOT NULL,
	SERVICIO CHAR(5),
	PERSONA CHAR(8),
	UBICACION CHAR(6),
	CONDICIONES XMLTYPE
);

CREATE TABLE PARTICIPA(
	CODIGOPROYECTO VARCHAR(15) NOT NULL,
	CODIGOEMPLEADOS CHAR(8) NOT NULL,
	SALARIO NUMBER(9) NOT NULL
);

--Atributos

ALTER TABLE PROYECTOS ADD CONSTRAINT CK_PROYECTOS_CODIGO
    CHECK (CODIGO LIKE 'D%' OR CODIGO LIKE 'C%' OR CODIGO LIKE 'I%');

ALTER TABLE PROYECTOS ADD CONSTRAINT CK_PROYECTOS_RECURSOS
    CHECK (RECURSOS > 0);
	
ALTER TABLE PARTICIPA ADD CONSTRAINT CK_PARTICIPA_SALARIO
	CHECK (SALARIO > 0);

--PKS

ALTER TABLE PROYECTOS ADD CONSTRAINT Pk_PROYECTOS
    PRIMARY KEY (CODIGO);
ALTER TABLE PARTICIPA ADD CONSTRAINT Pk_PATICIPA
    PRIMARY KEY (CODIGOPROYECTO, CODIGOEMPLEADOS);
ALTER TABLE PERSONAS ADD CONSTRAINT Pk_PERSONAS
    PRIMARY KEY (CODIGO);
ALTER TABLE EMPLEADOS ADD CONSTRAINT Pk_EMPLEADOS
    PRIMARY KEY (CODIGO);
ALTER TABLE UBICACIONES ADD CONSTRAINT Pk_UBICACIONES
    PRIMARY KEY (CODIGO);
ALTER TABLE SERVICIOS ADD CONSTRAINT Pk_SERVICIOS
    PRIMARY KEY (CODIGO);
	
--UKS

ALTER TABLE PROYECTOS ADD CONSTRAINT Uk_PATICIPA
    UNIQUE (NOMBRE);

--FKS

ALTER TABLE PROYECTOS ADD CONSTRAINT fk_PROYECTOS_SERVICIO
    FOREIGN KEY (SERVICIO)
    REFERENCES SERVICIOS (CODIGO);

ALTER TABLE PROYECTOS ADD CONSTRAINT fk_PROYECTOS_PERSONA
    FOREIGN KEY (PERSONA)
    REFERENCES PERSONAS (CODIGO);

ALTER TABLE PROYECTOS ADD CONSTRAINT fk_PROYECTOS_UBICACION
    FOREIGN KEY (UBICACION)
    REFERENCES UBICACIONES (CODIGO);
	
ALTER TABLE PARTICIPA ADD CONSTRAINT fk_PARTICIPA_PROYECTOS
    FOREIGN KEY (CODIGOPROYECTO)
    REFERENCES PROYECTOS (CODIGO);

ALTER TABLE PARTICIPA ADD CONSTRAINT fk_PARTICIPA_EMPLEADO
    FOREIGN KEY (CODIGOEMPLEADOS)
    REFERENCES EMPLEADOS (CODIGO);


--PoblarOK

INSERT INTO UBICACIONES(CODIGO,MUNICIPIO,DEPARTAMENTO) VALUES ('AMALET','Leticia','Amazonas');
INSERT INTO UBICACIONES(CODIGO,MUNICIPIO,DEPARTAMENTO) VALUES ('AMAPUE','Puerto Nariño','Amazonas');
INSERT INTO UBICACIONES(CODIGO,MUNICIPIO,DEPARTAMENTO) VALUES ('SANBUC','Bucaramanga','Santander');
INSERT INTO UBICACIONES(CODIGO,MUNICIPIO,DEPARTAMENTO) VALUES ('SANBAR','Barbosa','Santander');
INSERT INTO UBICACIONES(CODIGO,MUNICIPIO,DEPARTAMENTO) VALUES ('SANCAB','Cabrera','Santander');
INSERT INTO UBICACIONES(CODIGO,MUNICIPIO,DEPARTAMENTO) VALUES ('TOLIBA','Ibague','Tolima');
INSERT INTO UBICACIONES(CODIGO,MUNICIPIO,DEPARTAMENTO) VALUES ('TOLALV','Alvarado','Tolima');
INSERT INTO UBICACIONES(CODIGO,MUNICIPIO,DEPARTAMENTO) VALUES ('TOLCAJ','Cajamarca','Tolima');
INSERT INTO UBICACIONES(CODIGO,MUNICIPIO,DEPARTAMENTO) VALUES ('TOLCOY','Coyaima','Tolima');

INSERT INTO ESPECIALIDADES(NOMBRE,PROFESIONAL,SALARIO) VALUES  ('EDMEDIA',0, 679646);
INSERT INTO ESPECIALIDADES(NOMBRE,PROFESIONAL,SALARIO) VALUES  ('TECNICO',0, 1041927);
INSERT INTO ESPECIALIDADES(NOMBRE,PROFESIONAL,SALARIO) VALUES  ('TECNOLOGO',0, 1113635);
INSERT INTO ESPECIALIDADES(NOMBRE,PROFESIONAL,SALARIO) VALUES  ('SUELOS',1, 1736849);
INSERT INTO ESPECIALIDADES(NOMBRE,PROFESIONAL,SALARIO) VALUES  ('VIAS',1, 3122473);
INSERT INTO ESPECIALIDADES(NOMBRE,PROFESIONAL,SALARIO) VALUES  ('ESTRUCTURA',1, 3985616);
INSERT INTO ESPECIALIDADES(NOMBRE,PROFESIONAL,SALARIO) VALUES  ('LIDER',1, 5586814);

INSERT INTO SERVICIOS(CODIGO, NOMBRE, TIPO, PRESUPUESTO) VALUES ('10000','Certificacion','I',100000000);
INSERT INTO SERVICIOS(CODIGO, NOMBRE, TIPO, PRESUPUESTO) VALUES ('20000','PuenteRural','D',80000000);
INSERT INTO SERVICIOS(CODIGO, NOMBRE, TIPO, PRESUPUESTO) VALUES ('30000','Carretera100','C',50000000);

INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('10000', 'TECNICO');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('10000', 'LIDER');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('10000', 'SUELOS');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('10000', 'ESTRUCTURA');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('10000', 'VIAS');

INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('20000', 'TECNICO');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('20000', 'LIDER');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('20000', 'ESTRUCTURA');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('20000', 'TECNOLOGO');

INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('30000', 'EDMEDIA');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('30000', 'TECNICO');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('30000', 'LIDER');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('30000', 'SUELOS');
INSERT INTO RECURSOS(SERVICIO, ESPECIALIDAD) VALUES ('30000', 'VIAS');

INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('224-1152', TO_DATE('27/02/2021','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('588-1421', TO_DATE('31/10/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('170-2428', TO_DATE('03/06/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('341-8279', TO_DATE('03/07/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('135-0632', TO_DATE('06/11/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('618-1794', TO_DATE('05/03/2021','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('595-8898', TO_DATE('02/06/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('798-6840', TO_DATE('24/04/2021','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('137-4367', TO_DATE('08/11/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('444-2553', TO_DATE('13/07/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('880-4773', TO_DATE('11/01/2021','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('540-8422', TO_DATE('04/11/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('953-8973', TO_DATE('26/09/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('288-4787', TO_DATE('06/08/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('592-0657', TO_DATE('16/03/2021','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('447-9334', TO_DATE('22/05/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('989-2900', TO_DATE('02/08/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('403-7915', TO_DATE('09/10/2020','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('832-5312', TO_DATE('30/03/2021','DD/MM/YYYY'));
INSERT INTO PERSONAS(CODIGO, VINCULACION) VALUES ('857-7224', TO_DATE('25/10/2020','DD/MM/YYYY'));


INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('224-1152', 'Pedro Vargas');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('588-1421', 'María Bustos');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('170-2428', 'Clara López');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('341-8279', 'Juan Alvarado');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('135-0632', 'Rosario Gomez');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('618-1794', 'Ricardo Mendez');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('595-8898', 'Patricia Osa');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('798-6840', 'Juana Ruiz');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('137-4367', 'Roberto Amador');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('444-2553', 'Ricardo Vargas');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('880-4773', 'Miriam Luna');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('540-8422', 'Juan Luque');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('953-8973', 'Cesar Cortés');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('288-4787', 'Luisa Calle');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('592-0657', 'Roberto Puerta');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('447-9334', 'Andrés Campos');
INSERT INTO NATURALES(CODIGO, NOMBRE) VALUES ('989-2900', 'Ana Acosta');

INSERT INTO JURIDICAS(CODIGO, NIT, RAZON) VALUES ('403-7915', 8000069003, 'PINZUAR LIMITADA');
INSERT INTO JURIDICAS(CODIGO, NIT, RAZON) VALUES ('832-5312', 9000113956, 'BPM CONSULTING');
INSERT INTO JURIDICAS(CODIGO, NIT, RAZON) VALUES ('857-7224', 8300237355, 'DEXON');

INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('224-1152','LIDER' ,'AMALET');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('588-1421','EDMEDIA' ,'AMALET');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('170-2428', 'SUELOS','AMAPUE');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('341-8279','TECNOLOGO' ,'AMAPUE');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('135-0632','SUELOS' ,'SANBUC');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('618-1794', 'VIAS','SANBUC');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('595-8898','LIDER'  ,'SANBUC');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('798-6840','TECNICO' ,'SANBAR');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('137-4367', 'ESTRUCTURA','SANBAR');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('444-2553','EDMEDIA' ,'TOLIBA');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('880-4773', 'VIAS','TOLIBA');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('540-8422','SUELOS' ,'TOLALV');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('953-8973','ESTRUCTURA' ,'TOLALV');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('288-4787','TECNICO' ,'TOLCOY');
INSERT INTO EMPLEADOS(CODIGO, ESPECIALIDAD, UBICACION) VALUES ('592-0657','LIDER'  ,'TOLCOY');

INSERT INTO PROYECTOS VALUES ('D15423698754632', 'Proyecto1', to_date('26-02-2002', 'DD-MM-YYYY'), 123456789, to_date('26-02-2002', 'DD-MM-YYYY'), to_date('26-02-2006', 'DD-MM-YYYY'), 12345679, '10000', '224-1152', 'AMALET', '<condiciones>dsaf</condiciones>');

--PoblarNoOk

INSERT INTO PROYECTOS VALUES ('15423698754632', 'Proyecto1', to_date('26-02-2002', 'DD-MM-YYYY'), 123456789, to_date('26-02-2002', 'DD-MM-YYYY'), to_date('26-02-2006', 'DD-MM-YYYY'), 12345679, '10000', '224-1152', 'AMALET', '<condiciones>dsaf</condiciones>');

COMMIT;

--INDICES VISTAS


--PAQUETES
--paquetes
CREATE OR REPLACE PACKAGE PC_PROYECTO is
	PROCEDURE AD_PROYECTO(
	XCODIGO VARCHAR,
	XNOMBRE VARCHAR,
	XPRECIO NUMBER,
	XINICIO DATE,
	XFIN DATE,
	XRECURSOS NUMBER,
	XSERVICIO CHAR,
	XPERSONA CHAR,
	XUBICACION CHAR,
	XCONDICIONES XMLTYPE);
	PROCEDURE UP_PROYECTO(
	XCODIGO VARCHAR,
	XNOMBRE VARCHAR,
	XPRECIO NUMBER,
	XINICIO DATE,
	XFIN DATE,
	XRECURSOS NUMBER,
	XSERVICIO CHAR,
	XPERSONA CHAR,
	XUBICACION CHAR,
	XCONDICIONES XMLTYPE);
	PROCEDURE DEL_PROYECTO(
	XCODIGO VARCHAR);
	FUNCTION CO_PROYECTO
		RETURN  SYS_REFCURSOR;
END;
/
CREATE OR REPLACE PACKAGE BODY PC_PROYECTO IS
	PROCEDURE AD_PROYECTO(
	XCODIGO VARCHAR,
	XNOMBRE VARCHAR,
	XPRECIO NUMBER,
	XINICIO DATE,
	XFIN DATE,
	XRECURSOS NUMBER,
	XSERVICIO CHAR,
	XPERSONA CHAR,
	XUBICACION CHAR,
	XCONDICIONES XMLTYPE) IS
	BEGIN
		INSERT INTO PROYECTOS(CODIGO, NOMBRE, PRECIO, INICIO, FIN, RECURSOS, SERVICIO, PERSONA, UBICACION, CONDICIONES) values (XCODIGO, XNOMBRE, XPRECIO, XINICIO, XFIN, XRECURSOS, XSERVICIO, XPERSONA, XUBICACION, XCONDICIONES);
	END;
	PROCEDURE UP_PROYECTO(
	XCODIGO VARCHAR,
	XNOMBRE VARCHAR,
	XPRECIO NUMBER,
	XINICIO DATE,
	XFIN DATE,
	XRECURSOS NUMBER,
	XSERVICIO CHAR,
	XPERSONA CHAR,
	XUBICACION CHAR,
	XCONDICIONES XMLTYPE) IS
	BEGIN
		UPDATE PROYECTOS SET CODIGO = XCODIGO;
	END;
	PROCEDURE DEL_PROYECTO(
	xcodigo VARCHAR) IS
	BEGIN
		DELETE FROM PROYECTOS WHERE CODIGO=XCODIGO;
	END;
	FUNCTION CO_PROYECTO RETURN  SYS_REFCURSOR IS CO_PROYECTO_INF SYS_REFCURSOR;
	BEGIN
		OPEN CO_PROYECTO_INF FOR
			SELECT * FROM PROYECTOS;
		RETURN CO_PROYECTO_INF;
	END;
END;
/

CREATE OR REPLACE PACKAGE PA_lider is
	PROCEDURE AD_PROYECTO(
	XCODIGO VARCHAR,
	XNOMBRE VARCHAR,
	XPRECIO NUMBER,
	XINICIO DATE,
	XFIN DATE,
	XRECURSOS NUMBER,
	XSERVICIO CHAR,
	XPERSONA CHAR,
	XUBICACION CHAR,
	XCONDICIONES XMLTYPE);
	PROCEDURE UP_PROYECTO(
	XCODIGO VARCHAR,
	XNOMBRE VARCHAR,
	XPRECIO NUMBER,
	XINICIO DATE,
	XFIN DATE,
	XRECURSOS NUMBER,
	XSERVICIO CHAR,
	XPERSONA CHAR,
	XUBICACION CHAR,
	XCONDICIONES XMLTYPE);
	PROCEDURE DEL_PROYECTO(
	XCODIGO VARCHAR);
	FUNCTION CO_PROYECTO
		RETURN  SYS_REFCURSOR;
END;
/
CREATE OR REPLACE PACKAGE BODY PA_lider is
	PROCEDURE AD_PROYECTO(
	XCODIGO VARCHAR,
	XNOMBRE VARCHAR,
	XPRECIO NUMBER,
	XINICIO DATE,
	XFIN DATE,
	XRECURSOS NUMBER,
	XSERVICIO CHAR,
	XPERSONA CHAR,
	XUBICACION CHAR,
	XCONDICIONES XMLTYPE) IS
	BEGIN
		PC_PROYECTO.AD_PROYECTO(XCODIGO, XNOMBRE, XPRECIO, XINICIO, XFIN, XRECURSOS, XSERVICIO, XPERSONA, XUBICACION, XCONDICIONES);
	END;
	PROCEDURE UP_PROYECTO(
	XCODIGO VARCHAR,
	XNOMBRE VARCHAR,
	XPRECIO NUMBER,
	XINICIO DATE,
	XFIN DATE,
	XRECURSOS NUMBER,
	XSERVICIO CHAR,
	XPERSONA CHAR,
	XUBICACION CHAR,
	XCONDICIONES XMLTYPE) IS
	BEGIN
		PC_PROYECTO.UP_PROYECTO(XCODIGO, XNOMBRE, XPRECIO, XINICIO, XFIN, XRECURSOS, XSERVICIO, XPERSONA, XUBICACION, XCONDICIONES);
	END;
	PROCEDURE DEL_PROYECTO(
	XCODIGO VARCHAR) IS
	BEGIN
		PC_PROYECTO.DEL_PROYECTO(XCODIGO);
	END;
	FUNCTION CO_PROYECTO
		RETURN  SYS_REFCURSOR IS CO_PROYECTO_INF SYS_REFCURSOR;
	BEGIN
		CO_PROYECTO_INF := PC_PROYECTO.CO_PROYECTO();
			RETURN CO_PROYECTO_INF;
	END;
END;
/

--CRUDOK
EXEC PK_PROYECTO.ADICIONAR_P('D15423698754165', 'Proyecto1', 12345678, to_date('26-02-2000', 'DD-MM-YYYY'),  to_date('26-02-2010', 'DD-MM-YYYY'), 12345678, )

--CRUDNoOK


--SEGURIDAD


--ACTORESOK


--COMPONENTES


--Disparadores
/
CREATE OR REPLACE TRIGGER TR_FECHA
BEFORE INSERT ON PROYECTOS
FOR EACH ROW
DECLARE 
    TODAY TIMESTAMP;
BEGIN
    SELECT to_char(sysdate, 'DD MM YYYY') into TODAY FROM dual;
    :new.FECHA := TODAY;
END TR_FECHA;
/